<!DOCTYPE html>
{% load static %}
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reino de Eldoria - RPG Online</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fontes temÃ¡ticas -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=MedievalSharp&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'game/css/style.css' %}">
</head>
<body>

    <!-- Header integrado com status -->
    <header class="game-header">
        <div class="container">
            <div class="header-container">
                <!-- TÃ­tulo -->
                <h1 class="game-title"><a href="/dashboard/">Reino de Eldoria</a></h1>
                
                <!-- BotÃµes de autenticaÃ§Ã£o -->
                {% if not user.is_authenticated %}
                    <div class="auth-buttons">
                        <a class="auth-btn" href="/accounts/login/">
                            <i class="fas fa-door-open me-1"></i>Entrar
                        </a>
                        <a class="auth-btn" href="/accounts/signup/">
                            <i class="fas fa-user-plus me-1"></i>Cadastrar
                        </a>
                    </div>
                {% endif %}
                
                <!-- Status do personagem -->
                <div class="header-status">
                    {% if user.is_authenticated %}
                    <div class="character-name">
                        <a href="{% url 'public_character' user.character.id %}">{{ user.character.name }}</a>
                    </div>
                    <div class="status-bars">
                        <div class="status-bar">
                            <div class="status-label">HP</div>
                            <div class="status-progress-container">
                                <div class="status-progress hp-bar" style="width: {% widthratio user.character.hp user.character.max_hp 100 %}%"></div>
                            </div>
                            <div class="status-value">{{user.character.hp}}/{{user.character.max_hp}}</div>
                        </div>
                        <div class="status-bar">
                            <div class="status-label">MP</div>
                            <div class="status-progress-container">
                                <div class="status-progress mp-bar" style="width: {% widthratio user.character.mana user.character.max_mana 100 %}%"></div>
                            </div>
                            <div class="status-value">{{user.character.mana}}/{{user.character.max_mana}}</div>
                        </div>
                        <div class="status-bar">
                            <div class="status-label">ENERGIA</div>
                            <div class="status-progress-container">
                                <div class="status-progress energy-bar" style="width: {% widthratio user.character.stamina user.character.max_stamina 100 %}%"></div>
                            </div>
                            <div class="status-value">{{user.character.stamina}}/{{user.character.max_stamina}}</div>
                        </div>
                    </div>
                    {% endif %}
                </div>
                
                <!-- Recursos e nÃ­vel -->
                <div class="header-resources">
                    {% if user.is_authenticated %}
                    <div class="resource-item">
                        <span class="resource-icon">Ouro: </span>
                        <span class="resource-value">{{user.character.gold}} ğŸ’°</span>
                    </div>
                    <div class="resource-item">
                        <span class="resource-icon">Fama: </span>
                        <span class="resource-value">{{user.character.arenaranking.points}} â­</span>
                    </div>
                    <div class="level-xp">
                        <div class="level-xp-item">NÃ­vel: <span class="level-xp-value">{{user.character.level}}</span></div>
                        <div class="level-xp-item">XP: <span class="level-xp-value">{% widthratio user.character.exp user.character.max_exp 100 %}%</span></div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </header>
    
    
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %} 

    <!-- Container principal com coluna lateral esquerda -->
    <div class="container main-container">
        
        <!-- Coluna esquerda - Menu -->
        <div class="left-column">
            <div class="menu-section">
                <h3 class="menu-title">VisÃ£o Geral</h3>
                <ul class="menu-list">
                    <li>
                        <a href="{% url 'dashboard' %}"
                        class="{% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'ranking' %}"
                        class="{% if request.resolver_match.url_name == 'ranking' %}active{% endif %}">
                            Ranking
                        </a>
                    </li>
                </ul>
            </div>
            
            <div class="menu-section">
                <h3 class="menu-title">Personagem</h3>
                <ul class="menu-list">
                    <li>
                        <a href="{% url 'character_detail' %}"
                        class="{% if request.resolver_match.url_name == 'character_detail' %}active{% endif %}">
                            ğŸ“Š Atributos
                        </a>
                    </li>
                    <li><a href="{% url 'inventory' %}"
                        class="{% if request.resolver_match.url_name == 'inventory' %}active{% endif %}">
                            ğŸ’ InventÃ¡rio
                        </a>
                    </li>
                    <li><a href="#">ğŸ° Guilda</a></li>
                </ul>
            </div>
            
            <div class="menu-section">
                <h3 class="menu-title">Cidade</h3>
                <ul class="menu-list">
                    <li>
                        <a href="{% url 'training' %}"
                        class="{% if request.resolver_match.url_name == 'training' %}active{% endif %}">
                            âš”ï¸ Treinar
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'resting' %}"
                        class="{% if request.resolver_match.url_name == 'resting' %}active{% endif %}">
                            ğŸ›Œ Descansar
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'jobs_list' %}"
                        class="{% if request.resolver_match.url_name == 'jobs_list' %}active{% endif %}">
                            âš’ï¸ Trabalhar
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'hunts_list' %}"
                        class="{% if request.resolver_match.url_name == 'hunts_list' %}active{% endif %}">
                            ğŸ—ºï¸ MissÃµes
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'combat:arena' %}"
                        class="{% if request.resolver_match.url_name == 'arena' %}active{% endif %}">
                            ğŸŸï¸ Arena
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'craft' %}"
                        class="{% if request.resolver_match.url_name == 'craft' %}active{% endif %}">
                            ğŸ”§ Oficina
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'market' %}"
                        class="{% if request.resolver_match.url_name == 'market' %}active{% endif %}">
                            ğŸª Entreposto Comercial
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'store' %}"
                        class="{% if request.resolver_match.url_name == 'store' %}active{% endif %}">
                            ğŸ›’ EmpÃ³rio
                        </a>
                    </li>
                </ul>
            </div>


            <div class="menu-section">
                {% if user.is_authenticated %}
                    <form method="post" action="/accounts/logout/" style="display:inline;">
                        {% csrf_token %}
                        <button type="submit" class="auth-btn logout-btn">
                            <i class="fas fa-door-closed me-1"></i>Sair
                        </button>
                    </form>
                {% endif %}
            </div>
        </div>
        
        <!-- Coluna principal - ConteÃºdo -->
        <div class="center-column">
            {% block content %}
            <!-- ConteÃºdo especÃ­fico serÃ¡ inserido aqui -->
            
            <!-- TÃ­tulo da pÃ¡gina atual -->
            <h2 class="fantasy-title text-center mb-4" style="font-family: 'Cinzel', serif; color: var(--color-secondary);">Bem-vindo ao Reino de Eldoria</h2>
            
            <!-- ConteÃºdo da pÃ¡gina principal aqui -->
            <div style="background: #1A1A1A; color: #E8E8E8; padding: 20px; border-radius: 5px; border: 1px solid #444;">
                <p>Selecione uma aÃ§Ã£o no menu Ã  esquerda para comeÃ§ar sua aventura!</p>
                <p>Explore masmorras, lute contra monstros, melhore suas habilidades e conquiste seu lugar no ranking dos maiores herÃ³is de Eldoria.</p>
            </div>
            
            {% endblock %}
        </div>
    </div>

    <!-- RodapÃ© -->
    <footer class="game-footer">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-12">
                    <p class="mb-0">Feito com Django | Que sua espada permaneÃ§a afiada e sua magia seja poderosa</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>